# Disclaimer

Данный проект является ответом на тестовое задание, и не является 100% правельным решением поставленной задачи.

# Dependencies

Минимально неоюходимое программное обеспечение для запуска данного проекта:

OS | UBUNTU Xenial and higher, Fedora 26 and higher
Arch | X86_64 (amd64)
docker | 1.13.1
docker-compose | 1.8.0

# Descriprion

Данный проект представляет из себя скрипт автоматического запуска двух среды состоящей из двух контейнеров и имеющих следующие свойства:

## Сервис 1, mysql
Имя сервисв | db
Имя контейнера | tb-db

На базе официального контейнера **mysql:8** собирается сервис в котором реализуется следующее окружение:
* Создаются базы *app* и *1c-migrate*
* Создаются дополнительные пользователи:
  - admin with password admin
  - moderator with password moderator
  - manager with password manager
  - 1c-worker with password 1c-worker
* Назначаются права доступа пользователей к базам

По окончанию инициализации сервиса, база станет доступна на локальном интерфейсе со стондартным портом (**127.0.0.1:3306**)

## Сервис 2, elasticsearch
Имя сервиса | els
Имя контейнера | tb-els

На базе официального контейнера **elasticsearch-oss:6.3.0** запускается сервис в котором реализуется следующее окружение:
* Выставляется имя кластера в *torbor-exam*
* Выставляется тип кластера *single-node*

По окончанию инициализации сервиса, кластер станет доступен на локальном интерфейсе со стонрадтными портами(**127.0.0.1:9200**, **127.0.0.1:9300**)

# Build and Run

Перед запуском, удостоверьтесь:
1. что ваша система удовлетворяет [минимальным системным требованиям](#Dependencies)
2. Пользователь операционной системы принадлежит группе **docker**, либо корректно настроены **sudo rules** для запуска необходимых утилит.

Для запуска необходимо:
1. Получить последнюю вериси проекта с данного сайта
2. В каталоге проекта выполнить команду **docker-compose up -d** (**sudo docker-compose up -d**)

После инициализации сервисов, вы можете получить доступ к ним с локальной системы

Для доступа к mysql:
```bash
mysql -uadmin -padmin -h127.0.0.1
```

Для доступа к elastic
```bash
curl http://127.0.0.1:9200/_cat/health
```
